<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com._3dhs.tnproject.post.dao.LikeMapper">
<resultMap id="likeListMap" type="com._3dhs.tnproject.post.dto.LikeListDTO">
    <id property="memberCode" column="l_member_code"/>
    <result property="postCode" column="post_code"/>
    <result property="isPrivate" column="is_private"/>
</resultMap>
    <select id="getHasLiked" resultType="boolean">
        <!--        SELECT-->
        <!--        COUNT(*) > 0-->
        SELECT EXISTS (
        SELECT 1
        FROM
        tbl_like_list
        WHERE
        post_code = #{postCode}
        AND
        l_member_code = #{memberCode}
        )
    </select>
    <select id="getAllList" resultMap="likeListMap">
        SELECT *
        FROM tbl_like_list
        order by l_member_code
    </select>
</mapper>