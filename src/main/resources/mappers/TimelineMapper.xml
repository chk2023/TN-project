<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "https://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com._3dhs.tnproject.timeline.dao.TimelineMapper">
    <resultMap id="profileMap" type="com._3dhs.tnproject.member.dto.ProfileDTO">
        <id property="memberCode" column="member_code"/>
    </resultMap>
    <resultMap id="postMap" type="com._3dhs.tnproject.post.dto.PostDTO">
        <id property="postCode" column="post_code"/>
        <association property="profile" column="profileMap"/>
    </resultMap>



<select id="findTrendList" resultMap="postMap">
    SELECT
        po.post_code,
        po.post_title,
        po.post_text,
        po.post_status,
        po.post_price,
        po.post_wri_date,
        po.post_view,
        po.member_code,
        po.post_mod_date,
        po.folder_code,
        pr.profile_code,
        pr.profile_nickname,
        pr.profile_statmsg,
        pr.profile_photo_path,
        pr.profile_bg_path
    FROM
        tissuenetworkdb.tbl_post po
    JOIN
        tissuenetworkdb.tbl_profile pr ON(po.member_code = pr.member_code)
    WHERE
        po.post_status = 'PUBLIC'
    AND po.post_is_deleted = false
    ORDER BY


</select>

</mapper>